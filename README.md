# GYMFLOW 💪

週の頻度に合わせてメニューを組み、記録・復習・継続までを一つで回せる筋トレ管理PWAです。

## 主な機能

- **週1〜6回の頻度別プログラム提案**
  - 全身法 / 上下分割 / PPL などを頻度に応じて自動提案
- **回復を考慮した曜日スケジュール提案・編集**
  - 推奨曜日をベースに、自分の生活リズムに合わせて調整可能
  - 週の途中で未実施日が出たら「今週の予定を無料で組み直す」で再提案
- **PR（最高記録）保存と次回目安の自動表示**
  - `kg × 回数` を保存し、達成状況から次回目安を表示
- **セット完了連動の休憩タイマー**
  - セット完了でカウントダウン開始（設定秒数保存）
- **週間ダッシュボード**
  - 実施日数 / 完了セット数 / 達成率を表示
- **種目メモ + JSONバックアップ**
  - 種目ごとのメモ保存
  - 記録データのJSONエクスポート / インポート
- **PWA対応**
  - ホーム画面追加でアプリのように起動可能
- **前回の続きから自動再開**
  - 一度決めた頻度・曜日を保存し、次回起動時は今日のメニューを自動表示

## セットアップ

```bash
npm install
npm run dev
```

デフォルトの開発サーバー: `http://localhost:5173`

## ビルド

```bash
npm run build
```

## プレビュー

```bash
npm run preview
```

## iPhoneでPWAとして使う方法

1. デプロイ済みURLをSafariで開く
2. 共有ボタン（□↑）をタップ
3. **「ホーム画面に追加」** を選択
4. ホーム画面からアプリとして起動

## データ保存について

1. Vercelでデプロイ後、iPhoneのSafariでURLを開く
2. 画面下の共有ボタン（□↑）をタップ
3.「ホーム画面に追加」を選択
4. アプリとして起動できるようになります

## 次に実装する無料機能（実装チケット案）

以下は、無料で実装・運用できる機能の優先チケットです。

### TICKET-01: セット完了連動の休憩タイマー
- **目的**: セット間休憩の質を一定化し、トレーニング効率を上げる。
- **要件**:
  - セットの「完了」押下でタイマー開始（デフォルト90秒、60/90/120秒切替）。
  - タイマー終了時に視覚通知を表示。
  - PWA環境では `vibrate` が利用可能ならバイブ通知。
- **受け入れ条件**:
  - タイマー時間を変更して次セットに反映される。
  - 完了→カウントダウン→終了通知まで操作なしで動作する。

### TICKET-02: 次回重量/回数の自動提案
- **目的**: PRと直近実績を使って、次回の具体的な目標を表示する。
- **要件**:
  - 各種目カードに「次回目安」を表示。
  - 直近が目標回数上限達成なら重量を+2.5kg、未達なら据え置き等のルールを適用。
  - 体重系（kgなし）種目は「回数+1」提案にフォールバック。
- **受け入れ条件**:
  - PRがある種目に提案値が表示される。
  - ルール通りに提案が更新される。

### TICKET-03: 週間ダッシュボード
- **目的**: 継続率を見える化し、習慣化を促進する。
- **要件**:
  - 「今週の実施日数」「完了セット数」「達成率(%)」を表示。
  - 週の開始日（月曜）基準で集計。
  - ログ未登録時は空状態UIを表示。
- **受け入れ条件**:
  - 当週データに応じて数値が即時反映。
  - 週跨ぎで集計が自動リセットされる。

### TICKET-04: メモ + JSONバックアップ
- **目的**: フォーム/体調メモを残し、端末変更時もデータを引き継げるようにする。
- **要件**:
  - 日付単位または種目単位のメモ入力欄を追加。
  - 記録データ一式をJSONでエクスポート/インポート。
  - インポート時はバリデーションを実施（必須キー、型チェック）。
- **受け入れ条件**:
  - エクスポートしたJSONを同一環境で再インポートして復元できる。
  - 壊れたJSONを読み込んだ場合にエラー表示し、既存データを破壊しない。
